(this.webpackJsonptotem=this.webpackJsonptotem||[]).push([[0],{110:function(e,a,t){e.exports=t(139)},115:function(e,a,t){},116:function(e,a,t){},139:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(9),l=t.n(c),i=(t(115),t(12)),o=(t(116),t(17)),m=t.n(o),u=t(206),s=t(187),p=t(191),d=t(64),f=t(140),E=t(88),g=t.n(E),b=t(41);var h=function(){var e=Object(n.useContext)(b.a);return r.a.createElement(s.a,{position:"fixed",color:"inherit"},r.a.createElement(p.a,null,r.a.createElement(f.a,{onClick:function(){e.setShowDrawer(!e.showDrawer)},edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(g.a,null)),r.a.createElement(d.a,{variant:"h6"},"Totem")))},v=t(89),O=t(11),j=t(24),y=t(141),w=t(211),C=t(207),x=t(200),k=t(198),D=t(43),P=t.n(D),N=t(32),S=t(193),A=t(194),B=t(197),_=t(196),T=t(195),F=t(199),I=t(94),R=t.n(I);var W=function(e){var a=e.animals,t=Object(N.f)(),n=Object(y.a)((function(e){return{card:{maxWidth:345,marginBottom:20,marginTop:20},media:{height:140},chip:{margin:e.spacing(.5),marginTop:e.spacing(1)},detailsButton:{marginLeft:"auto"},categoryChip:{position:"absolute",top:e.spacing(1),right:e.spacing(1)}}}))(),c=a.map((function(e){var a=e.tags.map((function(e){return r.a.createElement(w.a,{key:e.id,className:n.chip,onClick:function(a){a.preventDefault(),a.stopPropagation(),t.push("/tags/".concat(e.id))},label:e.name,color:"primary",size:"small",variant:"outlined",clickable:!0})}));return r.a.createElement(S.a,{className:n.card,key:e.id},r.a.createElement(A.a,{component:"a",href:"/app/animals/".concat(e.id)},r.a.createElement(T.a,{className:n.media,image:e.picture,title:e.name}),r.a.createElement(w.a,{label:e.category.name,color:"default",size:"small",className:n.categoryChip,onClick:function(a){a.preventDefault(),a.stopPropagation(),t.push("/category/".concat(e.category.id))},clickable:!0}),r.a.createElement(_.a,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},e.name),r.a.createElement(d.a,{variant:"body2",color:"textSecondary",component:"p"},e.short_description||""),a)),r.a.createElement(B.a,null,r.a.createElement(f.a,{"aria-label":"share"},r.a.createElement(R.a,null)),r.a.createElement(k.a,{size:"small",color:"primary",className:n.detailsButton,component:"a",href:"/app/animals/".concat(e.id)},"Dettagli")))}));return!!a.length&&r.a.createElement(F.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},c)},z=t(26),L=t(23);function H(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function G(){var e=this,a=Object(n.useContext)(z.a),t=Object(n.useState)([]),c=Object(i.a)(t,2),l=c[0],o=c[1],u=Object(n.useState)([]),s=Object(i.a)(u,2),p=s[0],f=s[1],E=Object(n.useState)([]),g=Object(i.a)(E,2),b=g[0],h=g[1],v=Object(n.useState)({}),D=Object(i.a)(v,2),N=D[0],S=D[1],A=Object(n.useState)(""),B=Object(i.a)(A,2),_=B[0],T=B[1],F=Object(n.useState)(""),I=Object(i.a)(F,2),R=I[0],G=I[1],K=Object(n.useState)(!0),U=Object(i.a)(K,2),J=U[0],M=U[1];Object(n.useEffect)((function(){L.a.pageview("/search")}),[]),Object(n.useEffect)((function(){Object.keys(N).length&&m.a.get("/api/animals/",{params:N}).then((function(e){200===e.status&&h(e.data.results)}))}),[N]),Object(n.useEffect)((function(){var e=a.tags.map((function(e){return{id:e.id,name:e.name,selected:!1}}));o(e);var t=a.categories.map((function(e){return{id:e.id,name:e.name}}));f(t)}),[a.tags,a.categories]);var V=function(e){var a=Object(j.a)(l);a[e]=function(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?H(t,!0).forEach((function(a){Object(O.a)(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(t).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}({},a[e],{selected:!a[e].selected}),o(a)},X=Object(y.a)((function(e){return{tags:{marginBottom:e.spacing(2)},tagList:{maxHeight:e.spacing(24),overflowY:"auto",overflowX:"hidden"},chip:{margin:e.spacing(1)},container:{maxHeight:J?"1200px":0,overflowY:"hidden",transition:"max-height .5s cubic-bezier(0, 1, 0.5, 1)"},centered:{textAlign:"center"}}}))(),Y=l.map((function(a,t){var n=a.selected?"primary":"default";return r.a.createElement(w.a,{key:a.id,label:a.name,color:n,onClick:V.bind(e,t),className:X.chip})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h4",gutterBottom:!0,color:"textPrimary",className:X.centered},"Ricerca un animale"),r.a.createElement("form",{className:X.container,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var a={},t=l.filter((function(e){return e.selected}));t.length&&(a.tags=t.reduce((function(e,a){return e.push(a.id),e}),[]).join(",")),""!==_&&(a.name=_),""!==R&&(a.category=R),S(a),M(!1)}},r.a.createElement(C.a,{id:"name-filter",label:"Nome",fullWidth:!0,margin:"normal",value:_,placeholder:"Digita una chiave di ricerca",onChange:function(e){T(e.target.value)}}),r.a.createElement(C.a,{id:"category-filter",select:!0,fullWidth:!0,label:"Categoria",margin:"normal",value:R,onChange:function(e){G(e.target.value)}},p.map((function(e){var a=R===e.id;return r.a.createElement(x.a,{key:e.id,value:e.id,selected:a},e.name)}))),r.a.createElement("div",{className:X.tags},r.a.createElement(d.a,{variant:"h5",gutterBottom:!0,color:"textPrimary"}," ","Tags"),r.a.createElement("div",{className:X.tagList},Y)),r.a.createElement(k.a,{type:"submit",color:"primary",variant:"contained",fullWidth:!0},"Cerca")),!J&&r.a.createElement("div",{className:X.centered},r.a.createElement(k.a,{variant:"outlined",color:"default",startIcon:r.a.createElement(P.a,null),onClick:function(){M(!0)}},"Modifica ricerca")),r.a.createElement(W,{animals:b}))}function K(){var e=Object(n.useState)([]),a=Object(i.a)(e,2),t=a[0],c=a[1];Object(n.useEffect)((function(){L.a.pageview("/animals"),m.a.get("/api/animals/").then((function(e){200===e.status&&c(e.data.results)}))}),[]);var l=Object(y.a)((function(e){return{centered:{textAlign:"center"}}}))();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h4",gutterBottom:!0,color:"textPrimary",className:l.centered},"Tutti gli animali"),r.a.createElement(W,{animals:t}))}var U=t(95),J=t(205),M=t(35),V=t(201);function X(){var e=Object(N.f)(),a=Object(y.a)((function(e){return{fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2),zIndex:10}}}))();return r.a.createElement(V.a,{color:"secondary",onClick:function(){e.push("/")},className:a.fab,"aria-label":"Cerca"},r.a.createElement(P.a,null))}function Y(){var e=Object(N.g)().id,a=Object(n.useState)([]),t=Object(i.a)(a,2),c=t[0],l=t[1],o=Object(n.useContext)(z.a).categories.find((function(a){return a.id===parseInt(e)}));Object(n.useEffect)((function(){L.a.pageview("/animals/?category=".concat(e)),m.a.get("/api/animals/?category=".concat(e)).then((function(e){200===e.status&&l(e.data.results)}))}),[e]);var u=Object(y.a)((function(e){return{centered:{textAlign:"center"}}}))();return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{variant:"h4",gutterBottom:!0,color:"textPrimary",className:u.centered},o&&o.name),r.a.createElement(W,{animals:c}))}function $(){var e=Object(N.g)().id,a=Object(n.useState)([]),t=Object(i.a)(a,2),c=t[0],l=t[1],o=Object(n.useContext)(z.a).tags.find((function(a){return a.id===parseInt(e)}));return Object(n.useEffect)((function(){L.a.pageview("/animals/?tags=".concat(e)),m.a.get("/api/animals/?tags=".concat(e)).then((function(e){200===e.status&&l(e.data.results)}))}),[e]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,o&&o.name),r.a.createElement(W,{animals:c}))}var q=t(202),Q=t(210),Z=t(203),ee=t(204),ae=t(63),te=t.n(ae);var ne=function(){var e=Object(N.g)().id,a=Object(n.useState)(!1),t=Object(i.a)(a,2),c=t[0],l=t[1];Object(n.useEffect)((function(){L.a.pageview("/animals/".concat(e)),m.a.get("/api/animals/".concat(e)).then((function(e){200===e.status&&l(e.data)}))}),[e]);var o=Object(y.a)((function(e){return{card:{maxWidth:500,marginBottom:20,marginTop:20,marginLeft:"auto",marginRight:"auto"},shortDescription:{marginBottom:20}}}))();return c?r.a.createElement(S.a,{className:o.card},r.a.createElement(T.a,{component:"img",alt:c.name,height:"240",image:c.picture,title:c.name}),r.a.createElement(_.a,null,r.a.createElement(d.a,{gutterBottom:!0,variant:"h5",component:"h2"},c.name),r.a.createElement(d.a,{className:o.shortDescription},c.short_description),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{expandIcon:r.a.createElement(te.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(d.a,null,"Descrizione fisica")),r.a.createElement(ee.a,null,r.a.createElement(d.a,null,c.physical_description))),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{expandIcon:r.a.createElement(te.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(d.a,null,"Comportamento")),r.a.createElement(ee.a,null,r.a.createElement(d.a,null,c.behavior_description))),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{expandIcon:r.a.createElement(te.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(d.a,null,"Habitat")),r.a.createElement(ee.a,null,r.a.createElement(d.a,null,c.habitat_description))))):r.a.createElement(q.a,null)},re=t(208);m.a.defaults.xsrfHeaderName="X-CSRFTOKEN",m.a.defaults.xsrfCookieName="csrftoken",Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_GA_TRACKING_CODE:"UA-157307162-1"}).hasOwnProperty("REACT_APP_GA_TRACKING_CODE")&&L.a.initialize("UA-157307162-1");var ce=Object(U.a)({palette:{type:"dark",primary:{main:"#EFAC78"},secondary:{main:"#FAE09B"},background:{paper:"#2A1F2C",default:"#1D151F"},text:{primary:"#FBF8DC",secondary:"#F6D2A3"}}});var le=function(){var e=Object(n.useState)(!1),a=Object(i.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],p=o[1],d=Object(n.useState)([]),f=Object(i.a)(d,2),E=f[0],g=f[1];return Object(n.useEffect)((function(){m.a.get("/api/categories/").then((function(e){200===e.status&&p(e.data.results)})),m.a.get("/api/tags/").then((function(e){200===e.status&&g(e.data.results)}))}),[]),r.a.createElement(J.a,{theme:ce},r.a.createElement(z.a.Provider,{value:{categories:s,tags:E}},r.a.createElement(re.a,{bgcolor:"background.default",style:{minHeight:"100vh"},py:8},r.a.createElement(M.a,{basename:"/app"},r.a.createElement(b.a.Provider,{value:{showDrawer:t,setShowDrawer:c}},r.a.createElement(h,null),r.a.createElement(v.a,null),r.a.createElement(X,null)),r.a.createElement(u.a,{maxWidth:"md"},r.a.createElement(N.c,null,r.a.createElement(N.a,{path:"/animals",exact:!0},r.a.createElement(K,null)),r.a.createElement(N.a,{path:"/animals/:id"},r.a.createElement(ne,null)),r.a.createElement(N.a,{path:"/category/:id"},r.a.createElement(Y,null)),r.a.createElement(N.a,{path:"/tags/:id"},r.a.createElement($,null)),r.a.createElement(N.a,{path:"/"},r.a.createElement(G,null))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(le,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},26:function(e,a,t){"use strict";var n=t(0),r=Object(n.createContext)();a.a=r},41:function(e,a,t){"use strict";var n=t(0),r=Object(n.createContext)();a.a=r},89:function(e,a,t){"use strict";(function(e){var n=t(0),r=t.n(n),c=t(141),l=t(144),i=t(72),o=t(98),m=t(71),u=t(65),s=t(66),p=t(142),d=t(90),f=t.n(d),E=t(43),g=t.n(E),b=t(91),h=t.n(b),v=t(92),O=t.n(v),j=t(41),y=t(26);a.a=function(){var a=Object(n.useContext)(j.a),t=Object(n.useContext)(y.a),d=e.browser&&/iPad|iPhone|iPod/.test(navigator.userAgent),E=Object(c.a)({list:{width:250},fullList:{width:"auto"}})(),b=function(e){return function(t){(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&a.setShowDrawer(e)}};function v(e){return r.a.createElement(m.a,Object.assign({button:!0,component:"a"},e))}var w=r.a.createElement("div",{className:E.list,role:"presentation",onClick:b(!1),onKeyDown:b(!1)},r.a.createElement(i.a,null,r.a.createElement(v,{href:"/"},r.a.createElement(u.a,null,r.a.createElement(g.a,null)),r.a.createElement(s.a,{primary:"Cerca"})),r.a.createElement(v,{href:"/app/animals"},r.a.createElement(u.a,null,r.a.createElement(f.a,null)),r.a.createElement(s.a,{primary:"Mostra tutti"}))),r.a.createElement(o.a,null),r.a.createElement(i.a,{subheader:r.a.createElement(p.a,{component:"div",id:"nested-list-subheader"},"Per Categorie")},t.categories.map((function(e){return r.a.createElement(v,{href:"/app/category/".concat(e.id),key:e.id},r.a.createElement(u.a,null,r.a.createElement(h.a,null)),r.a.createElement(s.a,{primary:e.name}))}))),r.a.createElement(o.a,null),r.a.createElement(i.a,null,r.a.createElement(m.a,{button:!0},r.a.createElement(u.a,null,r.a.createElement(O.a,null)),r.a.createElement(s.a,{primary:"Credits"}))));return r.a.createElement("div",null,r.a.createElement(l.a,{open:a.showDrawer,onClose:b(!1),onOpen:b(!0),disableBackdropTransition:!d,disableDiscovery:d},w))}}).call(this,t(82))}},[[110,1,2]]]);
//# sourceMappingURL=main.aeb565ef.chunk.js.map